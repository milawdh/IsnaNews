@using DataLayer.Dtos
@using DataLayer.Dtos.Shared
@using ServiceLayer.Utils
@model List<CommentPublicDto>

<section dir="rtl" class="ps-0 _scrollBar CommentsSec mx-auto">
    <div class="d-flex p-2 justify-content-between">
        <h4 class="text-danger d-inline _MyFont fw-bold"> دیدگاه ها</h4>
        <span>
            <svg width="32px" height="32px" viewBox="-0.5 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"
                 fill="#000000">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                    <title>comments</title>
                    <desc>Created with Sketch Beta.</desc>
                    <defs> </defs>
                    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"
                       sketch:type="MSPage">
                        <g id="Icon-Set-Filled" sketch:type="MSLayerGroup"
                           transform="translate(-259.000000, -257.000000)" fill="#446fb4">
                            <path d="M265.5,267 C266.329,267 267,267.672 267,268.5 C267,269.329 266.329,270 265.5,270 C264.671,270 264,269.329 264,268.5 C264,267.672 264.671,267 265.5,267 L265.5,267 Z M271.5,267 C272.329,267 273,267.672 273,268.5 C273,269.329 272.329,270 271.5,270 C270.671,270 270,269.329 270,268.5 C270,267.672 270.671,267 271.5,267 L271.5,267 Z M277.5,267 C278.329,267 279,267.672 279,268.5 C279,269.329 278.329,270 277.5,270 C276.671,270 276,269.329 276,268.5 C276,267.672 276.671,267 277.5,267 L277.5,267 Z M268.637,279.736 C269.414,279.863 271.181,280 272,280 C279.18,280 284,274.657 284,268.375 C284,262.093 277.977,257 272,257 C264.811,257 259,262.093 259,268.375 C259,272.015 260.387,275.104 263,277.329 L263,283 L268.637,279.736 L268.637,279.736 Z M285.949,266.139 L286,267 C286.008,267.817 286,267.742 286,268.5 C286,276.475 279.716,282 271,282 L268,282 C270.38,284.328 273.149,285.75 277,285.75 C277.819,285.75 278.618,285.676 279.395,285.549 L285,289 L285,283.329 C288.04,281.246 290,278.015 290,274.375 C290,271.131 288.439,268.211 285.949,266.139 L285.949,266.139 Z"
                                  id="comments" sketch:type="MSShapeGroup"> </path>
                        </g>
                    </g>
                </g>
            </svg>
        </span>
    </div>
    <div class="CommentsSecBody" uk-scrollspy="target: > div; cls: uk-animation-slide-right; delay: 300;" dir="rtl">
        @{
            if (Model.Count > 0)
            {
                foreach (var i in Model)
                {

                    <!--Each Item start-->
                    <div class="uk-child-width-1-1">
                        <header class="d-flex">
                            <img class=" d-inline-block" src="~/Resources/@i.User.ProfileImage.ToString()">
                            <span class="d-inline-block flex-fill">
                                <h6 class="w-100 d-flex">
                                    <a href="" class="text-break">
                                        @i.User.UserName
                                    </a>
                                </h6>
                                <p>
                                    @i.Body
                                </p>
                            </span>
                        </header>
                        <div class="d-flex justify-content-between">
                            <span class="text-danger">
                                تاریخ انتشار :
                            </span>
                            <span class="me-auto text-truncate d-flex">
                                <span class="_hover-green _cursor-pointor _MyFont">@Extentions.ToPersianDate(i.DatePosted)</span>
                                <span uk-icon="icon:calendar;ratio:1.2;"></span>
                            </span>
                        </div>
                        @{
                            if (i.Reply != null)
                            {
                                <!--Admin Reply Start-->
                                <div class="w-75 p-3 mx-auto">
                                    <header class="d-flex">
                                        <span class="d-inline-block flex-fill">
                                            <h6 class="w-100 d-flex text-warning">
                                                <span uk-icon="user" class="text-warning uk-icon-button"></span>
                                                <span class=" _MyFont fw-bold fs-5 text-break">
                                                    پاسخ ادمین
                                                </span>
                                            </h6>
                                            <p>
                                                @i.Reply
                                            </p>
                                        </span>
                                    </header>
                                </div>
                                <!--Admin Reply End-->
                            }
                        }
                    </div>
                    <!--Each Item end-->
                }
            }
            else
            {
                <div class="h-75" style="display: flex; flex-direction: row; align-items: center; justify-content: center;">
                    <h3 class=" _MyFont text-center text-secondary">
                        دیدگاهی برای این خبر وجود ندارد
                    </h3>
                </div>
            }
        }
    </div>
</section>